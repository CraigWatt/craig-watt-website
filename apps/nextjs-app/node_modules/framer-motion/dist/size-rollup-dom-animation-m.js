import{jsxs as t,jsx as n}from"react/jsx-runtime";import{createContext as e,useContext as o,useMemo as r,useCallback as a,useLayoutEffect as i,useEffect as s,useRef as l,useInsertionEffect as u,forwardRef as c,Fragment as d,createElement as f}from"react";import{i as m,a as p,f as y,b as v,c as g,P as h,S,o as w,m as M,L as b,d as E,e as P,g as j,h as C,j as V,k as T,r as A,l as x,n as L,p as W,s as I,q as k,t as O,u as D,v as R,w as F}from"./size-rollup-dom-max-assets.js";const N=e({strict:!1}),H=e({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),U=e({});function q(t){const{initial:n,animate:e}=function(t,n){if(m(t)){const{initial:n,animate:e}=t;return{initial:!1===n||p(n)?n:void 0,animate:p(e)?e:void 0}}return!1!==t.inherit?n:{}}(t,o(U));return r(()=>({initial:n,animate:e}),[B(n),B(e)])}function B(t){return Array.isArray(t)?t.join(" "):t}const _=Symbol.for("motionComponentSymbol");function z(t,n,e){return a(o=>{o&&t.onMount&&t.onMount(o),n&&(o?n.mount(o):n.unmount()),e&&("function"==typeof e?e(o):v(e)&&(e.current=o))},[n])}const X=g?i:s;function Y(t,n,e,r,a){var i,c;const{visualElement:d}=o(U),f=o(N),m=o(h),p=o(H).reducedMotion,y=l(null);r=r||f.renderer,!y.current&&r&&(y.current=r(t,{visualState:n,parent:d,props:e,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:p}));const g=y.current,b=o(S);!g||g.projection||!a||"html"!==g.type&&"svg"!==g.type||function(t,n,e,o){const{layoutId:r,layout:a,drag:i,dragConstraints:s,layoutScroll:l,layoutRoot:u}=n;t.projection=new e(t.latestValues,n["data-framer-portal-id"]?void 0:function t(n){return n?!1!==n.options.allowProjection?n.projection:t(n.parent):void 0}(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(i)||s&&v(s),visualElement:t,animationType:"string"==typeof a?a:"both",initialPromotionConfig:o,layoutScroll:l,layoutRoot:u})}(y.current,e,a,b);const E=l(!1);u(()=>{g&&E.current&&g.update(e,m)});const P=e[w],j=l(Boolean(P)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,P))&&(null===(c=window.MotionHasOptimisedAnimation)||void 0===c?void 0:c.call(window,P)));return X(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),M.render(g.render),j.current&&g.animationState&&g.animationState.animateChanges())}),s(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,P)}),j.current=!1))}),g}function $({preloadedFeatures:e,createVisualElement:r,useRender:a,useVisualState:i,Component:s}){var l,u;function d(e,l){let u;const c={...o(H),...e,layoutId:G(e)},{isStatic:d}=c,f=q(e),m=i(e,d);if(!d&&g){o(N).strict;const t=function(t){const{drag:n,layout:e}=y;if(!n&&!e)return{};const o={...n,...e};return{MeasureLayout:(null==n?void 0:n.isEnabled(t))||(null==e?void 0:e.isEnabled(t))?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}(c);u=t.MeasureLayout,f.visualElement=Y(s,m,c,r,t.ProjectionNode)}return t(U.Provider,{value:f,children:[u&&f.visualElement?n(u,{visualElement:f.visualElement,...c}):null,a(s,e,z(m,f.visualElement,l),m,d,f.visualElement)]})}e&&function(t){for(const n in t)y[n]={...y[n],...t[n]}}(e),d.displayName="motion."+("string"==typeof s?s:`create(${null!==(u=null!==(l=s.displayName)&&void 0!==l?l:s.name)&&void 0!==u?u:""})`);const f=c(d);return f[_]=s,f}function G({layoutId:t}){const n=o(b).id;return n&&void 0!==t?n+"-"+t:t}const J=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K(t,n,e){for(const o in n)E(n[o])||P(o,e)||(t[o]=n[o])}function Q(t,n){const e={};return K(e,t.style||{},t),Object.assign(e,function({transformTemplate:t},n){return r(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return j(e,n,t),Object.assign({},e.vars,e.style)},[n])}(t,n)),e}function Z(t,n){const e={},o=Q(t,n);return t.drag&&!1!==t.dragListener&&(e.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=o,e}const tt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nt(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tt.has(t)}let et=t=>!nt(t);try{(ot=require("@emotion/is-prop-valid").default)&&(et=t=>t.startsWith("on")?!nt(t):ot(t))}catch(t){}var ot;const rt=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function at(t,n,e,o){const a=r(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return C(e,n,V(o),t.transformTemplate),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const n={};K(n,t.style,t),a.style={...n,...a.style}}return a}function it(t=!1){return(n,e,o,{latestValues:a},i)=>{const s=(T(n)?at:Z)(e,a,i,n),l=function(t,n,e){const o={};for(const r in t)"values"===r&&"object"==typeof t.values||(et(r)||!0===e&&nt(r)||!n&&!nt(r)||t.draggable&&r.startsWith("onDrag"))&&(o[r]=t[r]);return o}(e,"string"==typeof n,t),u=n!==d?{...l,...s,ref:o}:{},{children:c}=e,m=r(()=>E(c)?c.get():c,[c]);return f(n,{...u,children:m})}}const st=t=>(n,e)=>{const r=o(U),a=o(h),i=()=>function({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:e},o,r,a){const i={latestValues:lt(o,r,a,t),renderState:n()};return e&&(i.onMount=t=>e({props:o,current:t,...i}),i.onUpdate=t=>e(t)),i}(t,n,r,a);return e?i():function(t){const n=l(null);return null===n.current&&(n.current=t()),n.current}(i)};function lt(t,n,e,o){const r={},a=o(t,{});for(const t in a)r[t]=A(a[t]);let{initial:i,animate:s}=t;const l=m(t),u=x(t);n&&u&&!l&&!1!==t.inherit&&(void 0===i&&(i=n.initial),void 0===s&&(s=n.animate));let c=!!e&&!1===e.initial;c=c||!1===i;const d=c?s:i;if(d&&"boolean"!=typeof d&&!L(d)){const n=Array.isArray(d)?d:[d];for(let e=0;e<n.length;e++){const o=W(t,n[e]);if(o){const{transitionEnd:t,transition:n,...e}=o;for(const t in e){let n=e[t];if(Array.isArray(n)){n=n[c?n.length-1:0]}null!==n&&(r[t]=n)}for(const n in t)r[n]=t[n]}}}return r}const ut={useVisualState:st({scrapeMotionValuesFromProps:I,createRenderState:J})},ct=["x","y","width","height","cx","cy","r"],dt={useVisualState:st({scrapeMotionValuesFromProps:k,createRenderState:rt,onUpdate:({props:t,prevProps:n,current:e,renderState:o,latestValues:r})=>{if(!e)return;let a=!!t.drag;if(!a)for(const t in r)if(O.has(t)){a=!0;break}if(!a)return;let i=!n;if(n)for(let e=0;e<ct.length;e++){const o=ct[e];t[o]!==n[o]&&(i=!0)}i&&D.read(()=>{R(e,o),D.render(()=>{C(o,r,V(e.tagName),t.transformTemplate),F(e,o)})})}})};function ft(t,n){return function(e,{forwardMotionProps:o}={forwardMotionProps:!1}){return $({...T(e)?dt:ut,preloadedFeatures:t,useRender:it(o),createVisualElement:n,Component:e})}}const mt=ft()("div");export{mt as MotionDiv};
