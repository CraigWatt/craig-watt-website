---
slug: "craig-watt-website"
title: "craigwatt.co.uk Web App"
summary: "My personal site built on Next.js, Tailwind & HeroUI."
github: "https://github.com/craigwatt/craig-watt-website"

hero: "/images/projects/craig-watt-website/craig-watt-website1-hero.webp"
heroWidth: 1800
heroHeight: 600

thumbLg: "/images/projects/craig-watt-website/craig-watt-website1-thumb-lg.webp"
thumbLgWidth: 900
thumbLgHeight: 600

thumb: "/images/projects/craig-watt-website/craig-watt-website1-thumb.webp"
thumbWidth: 640
thumbHeight: 360

og: "/images/projects/craig-watt-website/craig-watt-website-og.webp"
ogWidth: 1200
ogHeight: 630

screens:
  - src: "/images/projects/craig-watt-website/craig-watt-website2-screen-1.webp"
    width: 1200
    height: 675
badges:
  - next.js
  - typescript
  - terraform
  - aws
  - tailwindcss
  - eslint
  - jest
  - playwrite
  - storybook
  - npm
---
craigwatt.co.uk is my personal website, designed and built from the ground up  
using **Next.js 15**, **Tailwind CSS**, and **HeroUI**.  
It serves as both a technical portfolio and a demonstration of modern web development practices,  
showcasing my ability to architect, scale, and deploy responsive frontends using current industry standards.

## Key Features

- **Built with Next.js App Router (v15)** ‚Äî leveraging React Server Components, dynamic routing, and async/streaming rendering for a fast, modern experience.  
- **Tailwind CSS + HeroUI** ‚Äî clean, consistent design system built with utility-first styling and accessible UI primitives.  
- **MDX-Powered Content** ‚Äî project and blog content authored in MDX, with embedded `<Snippet />` and `<ProjectImage />`.  
- **Composable Component Architecture** ‚Äî reusable components like `ProjectRenderer`, `ProjectClient`, and `SiteBreadcrumbs`.  
- **Fully Containerised + CI/CD** ‚Äî Dockerised build process deployed via GitHub Actions with zero-downtime rollouts.

<ProjectImage
  src="/images/projects/craig-watt-website/craig-watt-website2-screen-1.webp"
  width={1200}
  height={675}
  alt="Screenshot of homepage"
  className="rounded-2xl shadow-lg mx-auto my-8"
/>

## Engineering Highlights

- **Content Collections + Dynamic MDX** ‚Äî build-time MDX with type-safe frontmatter via [content-collections](https://github.com/content-collections).  
- **Dynamic Client/Server Segregation** ‚Äî interactive bits load client-side (via `<ProjectClient />`), the rest stays in RSC for maximum performance.  
- **Developer Experience** ‚Äî monorepo (Nx), ESLint, Prettier, TypeScript, plus Storybook, Playwright & Jest for testing.

## MDX & Content Collections Setup

To power MDX with frontmatter and hook into content collections, we extend Next‚Äôs config:

<Snippet
  symbol=""
  classNames={{ base: "mt-4", pre: "whitespace-pre-wrap" }}
>
{`// apps/nextjs-app/next.config.js
const createMDX = require('@next/mdx');
const remarkFrontmatter    = require('remark-frontmatter').default || require('remark-frontmatter');
const remarkMdxFrontmatter = require('remark-mdx-frontmatter').default || require('remark-mdx-frontmatter');
const { withContentCollections } = require('@content-collections/next');

/** @type {import('next').NextConfig} */
let nextConfig = {
  pageExtensions: ['ts','tsx','js','jsx','md','mdx'],
  output: 'standalone',
};

const withMDX = createMDX({
  extension: /\\.mdx?$/,
  options: {
    remarkPlugins: [remarkFrontmatter, [remarkMdxFrontmatter,{name:'frontMatter'}]],
  },
});

module.exports = withContentCollections(
  withMDX(nextConfig)
);`}
</Snippet>

This setup does a few things:

- **`createMDX`** integrates MDX into Next, so you can import `.mdx` pages directly.  
- **`remarkFrontmatter`** + **`remark-mdx-frontmatter`** let you author YAML-style frontmatter that MDX can consume as `frontMatter`.  
- **`withContentCollections`** wires that frontmatter into your typed content-collections system at build time.  
- **`pageExtensions`** ensures Next recognizes `.md`, `.mdx` (as well as your TS/JS files) as valid pages.

## Trading212 Public Dashboard

The `/trading212` dashboard displays a live snapshot of my Trading212 investment account, including total value, free cash, individual holdings, and FX status. It‚Äôs powered by a robust backend fetch strategy designed to **avoid cold starts**, handle **API outages**, and **streamline client experience** ‚Äî even during deployments or heavy usage.

### Caching Strategy

At the heart of the system is a hand-rolled **edge-compatible in-memory cache** exposed via the `/api/trading212` route:

- ‚úÖ **Hot Cache**: If the data is fresh (within `TTL`), it‚Äôs served immediately.
- üïó **In-Flight Deduplication**: Only one fetch is ever in-flight; concurrent requests share the same promise.
- ‚ôªÔ∏è **Stale-but-Usable**: If a previous payload exists and is within `STALE_TTL`, it will be returned with `_meta.stale = true` while a fresh request is in flight.
- üö® **Cold Start Detection**: If all attempts to fetch fail and no prior payload exists, the API returns `_meta.cold = true`, allowing the UI to display a distinct loading message.
- üß† **Boot-time Warming**: A cache warmer (`startCacheWarmer`) is triggered on production boot to pre-warm the data layer before any user hits the page.

### Dashboard Behaviour

The HeroUI-based dashboard is aware of `_meta` flags embedded in the API response:

- üîÅ **`stale: true`** ‚Äî Displays a soft warning banner and a `Refresh` button via `HeroUI.Alert`, letting the user know data may be slightly outdated.
- ‚ùÑÔ∏è **`cold: true`** ‚Äî Indicates that no prior cache existed (e.g. boot-time cold start or API outage); shows a special "First-time load" message.
- ‚úÖ **Neither** ‚Äî Indicates live, fresh data is being shown.

### Why It Matters

This layered approach ensures that:

- The frontend **never hangs** due to upstream slowness.
- All users get **consistent fallback behaviour**, regardless of deployment timing.
- Live fetches are **efficiently batched**, reducing API load and improving UX.
- You can **observe cache behaviour** via server logs (`Cache HIT`, `MISS`, `stale fallback`, `in-flight`, etc).

Together, these systems showcase a **resilient, production-grade fetch & render flow** ‚Äî one that handles real-world edge cases while providing clear user feedback and a polished UI experience.

## Developer Philosophy

This site isn‚Äôt just a static r√©sum√©.  
It‚Äôs a living example of how I think, structure codebases, solve problems, and design for maintainability ‚Äî  
applying the same principles I ship in production applications.
